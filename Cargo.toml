[workspace]
members = ["crates/graphics", "crates/workspace-hack"]

[workspace.package]
version = "0.1.0"
edition = "2024"

[workspace.lints.clippy]
dbg_macro = "warn"

[workspace.lints.rust]
unused_crate_dependencies = "warn"

[workspace.dependencies]
bytemuck = "1"
color = "0.3"
futures = "0.3"
glamour = "0.17"
guillotiere = "0.6"
image = "0.25"
memmap2 = "0.9"
parley = "0.3"
slotmap = "1"
smallvec = { version = "1.15", features = [
    "const_generics",
    "const_new",
    "union",
] }
swash = "0.2"
tokio = "1.44"
tracing = "0.1"
tracing-tracy = { version = "0.11", default-features = false }
wgpu = "25"
winit = "0.30"

[package]
name = "sabre"
version.workspace = true
edition.workspace = true

[profile.release]
lto = "thin"
debug = "limited"

[features]
profile = ["tracing-tracy/enable"]

[dependencies]
workspace-hack = { version = "0.1", path = "crates/workspace-hack" }

graphics = { path = "crates/graphics" }

color-backtrace = { version = "0.7", default-features = false, features = [
    "use-btparse-crate",
] }
futures = { workspace = true }
smallvec = { workspace = true }
tokio = { workspace = true, features = ["parking_lot", "rt-multi-thread"] }
tracing = { workspace = true }
tracing-subscriber = { version = "0.3", features = [
    "env-filter",
    "parking_lot",
    "smallvec",
] }
tracing-tracy = { workspace = true, features = [
    "broadcast",
    "callstack-inlines",
    "code-transfer",
    "context-switch-tracing",
    "fibers",
    "ondemand",
    "only-localhost",
    "sampling",
    "system-tracing",
] }
winit = { workspace = true }
